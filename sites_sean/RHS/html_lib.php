<?php

// -----------------------------------------------------------------------------------------------------------------------
// Functions for active HTML generation
//
// Author:	Ralph Cooksey-Talbott
// Contact: cooksey AT cookseytalbottgallery.com
//
// Revisions:	042204	File Originated
//				042304	Implementation continues
//
// Revision 2.2.0.8
//
// © 2008 Rolling Hills Software
// Author: Ralph Cooksey-Talbott
// Contact: cooksey@rollinghillssoftware.com
// Phone: 510-742-0548
// -----------------------------------------------------------------------------------------------------------------------

// -----------------------------------------------------------------------------------------------------------------------
// function IsHtml($text)
//
// Returns true if it thinks it is HTML in the input string
// -----------------------------------------------------------------------------------------------------------------------

function IsHtml($text)
{
$debug	=	0;
$score	=	0;

if($debug) print "<br>IsHtml(text)<br>";

// make sure its not encoded
$text	=	urldecode($text);

if(strstr($text,"<br>")==true)
	$score += 100;

if(strstr($text,"<p>")==true)
	$score += 100;

if(strstr($text,"</p")==true)
	$score += 100;

if(strstr($text,"<")==true)
	++$score;

if(strstr($text,">")==true)
	++$score;

if(strstr($text,"</")==true)
	$score += 10;

if(strstr($text,"<p")==true)
	$score += 50;

if($debug) print "score: $score<br>";

if($score > 2)
	return true;
else
	return false;
}

// -----------------------------------------------------------------------------------------------------------------------
// function TextArea($name,$rows,$cols,$value)
// -----------------------------------------------------------------------------------------------------------------------

function TextArea($name,$rows,$cols,$value)
{
// <textarea name="Message" rows="20" cols="75">Dear so and so, blablabla...</textarea>

$result	=		'<textarea name="'			.
				$name						.
				'" rows="'					.
				$rows						.
				'" cols="'					.
				$cols						.
				'">'						.
				$value						.
				'</textarea>'				;
				
return $result;
}

// -----------------------------------------------------------------------------------------------------------------------
// function TextInput($name,$value,$size)
// -----------------------------------------------------------------------------------------------------------------------

function TextInput($name,$value,$size)
{
$result	=	'<input type="text" name='	. 
			'"' .$name	.	'" '		.
			'value="'					.
			$value						.
			'" size="'					.
			$size						.
			'">'						;

// "From" value="cooksey@cookseytalbottstudio.com" size="77">

return $result;
}

// -----------------------------------------------------------------------------------------------------------------------
// function FontHelveticaOpen($size)
// -----------------------------------------------------------------------------------------------------------------------

function FontHelveticaOpen($size)
{
$result		=	"<FONT SIZE="	.	'"'		.
				$size			.	'"'		.
				'"'				.	" FACE=Helvetica, Geneva, Arial, SunSans-Regular, sans-serif"	.	'"'		.
				">\n"		;

return $result;
}

// -----------------------------------------------------------------------------------------------------------------------
// function FontClose()
// -----------------------------------------------------------------------------------------------------------------------

function FontClose()
{
$result		=	"</FONT>\n";

return $result;
}

// -----------------------------------------------------------------------------------------------------------------------
// function AnchorOpen($hRef)
// -----------------------------------------------------------------------------------------------------------------------

function AnchorOpen($hRef)
{
$result		=	"<A HREF="	.	'"'		.
				$hRef		.	'"'		.
				">\n"		;

return $result;
}

// -----------------------------------------------------------------------------------------------------------------------
// function AnchorClose()
// -----------------------------------------------------------------------------------------------------------------------

function AnchorClose()
{
$result		=	"</A>\n";

return $result;
}

// -----------------------------------------------------------------------------------------------------------------------
// function TableOpen($width,$border,$cellPadding,$cellSpacing)
// -----------------------------------------------------------------------------------------------------------------------

function TableOpen($width,$height,$border,$cellPadding,$cellSpacing)
{
$result		=	"<TABLE WIDTH="		.	$width			.
				" HEIGHT="			.	$height			.
				" BORDER="			.	$border			.
				" CELLPADDING="		.	$cellPadding	.
				" CELLSPACING="		.	$cellSpacing	.
				">\n";

return $result;
}

// -----------------------------------------------------------------------------------------------------------------------
// function TableClose()
// -----------------------------------------------------------------------------------------------------------------------

function TableClose()
{
$result		=	"</TABLE>\n";

return $result;
}

// -----------------------------------------------------------------------------------------------------------------------
// function TdOpen()
// function TdOpenB($colSpan)
// function TdOpenC($rowSpan)
// -----------------------------------------------------------------------------------------------------------------------

function TdOpen()
{
return "<TD>\n";
}

function TdOpenB($colSpan)
{
return "<TD COLSPAN="	.
		$colSpan		.
		">\n";
}

function TdOpenC($rowSpan)
{
return "<TD ROWSPAN="	.
		$rowSpan		.
		">\n";
}


function TdClose()
{
return "<TD>\n";
}

// -----------------------------------------------------------------------------------------------------------------------
// function TrOpen()
// -----------------------------------------------------------------------------------------------------------------------

function TrOpen()
{
return "<TR>\n";
}

// -----------------------------------------------------------------------------------------------------------------------
// function TrClose()
// -----------------------------------------------------------------------------------------------------------------------

function TrClose()
{
return "</TR>\n";
}
	
// -----------------------------------------------------------------------------------------------------------------------
// function BodyTag($bgColor,$text,$link,$vLink,$aLink,$leftMargin,$topMargin,$marginWidth,$marginHeight)
// -----------------------------------------------------------------------------------------------------------------------

function BodyTag($bgColor,$text,$link,$vLink,$aLink,$leftMargin,$topMargin,$marginWidth,$marginHeight)
{
$result		=	"<BODY "		.
				"BGCOLOR="		.	'"' .		$bgColor		.	'"'	.	
				" TEXT="		.	'"' .		$text			.	'"'	.
				" LINK="		.	'"' .		$link			.	'"'	.
				" VLINK="		.	'"' .		$vLink			.	'"'	.
				" ALINK="		.	'"' .		$aLink			.	'"'	.
				" LEFTMARGIN="	.	'"' .		$leftMargin		.	'"'	.
				" TOPMARGIN="	.	'"' .		$topMargin		.	'"'	.
				" MARGINWIDTH="	.	'"' .		$marginWidth	.	'"'	.
				" MARGINHEIGHT=".	'"' .		$marginHeight	.	'"'	.
				">\n";

return $result;
}

// -----------------------------------------------------------------------------------------------------------------------
// function Nbsp()
// -----------------------------------------------------------------------------------------------------------------------

function Nbsp()
{
return "&nbsp;";
}


// -----------------------------------------------------------------------------------------------------------------------
// function Cr()
// -----------------------------------------------------------------------------------------------------------------------

function Cr()
{
return "\n";
}

// -----------------------------------------------------------------------------------------------------------------------
// function Br()
// -----------------------------------------------------------------------------------------------------------------------

function Br()
{
$result		=	"<BR>\n";

return $result;
}

// -----------------------------------------------------------------------------------------------------------------------
// function ImageTag($theImageURL)
// -----------------------------------------------------------------------------------------------------------------------

function ImageTag($theImageURL,$border=0)
{
$result		=	'<IMG SRC="'. $theImageURL .'" border="' . $border . '">' . "\n";

return $result;
}

function ImageTagB($theImageURL,$width,$height,$altText)
{
$result		=	'<IMG SRC="'.	$theImageURL	.	'"'		. 
				" WIDTH="	.	$width			.
				" HEIGHT="	.	$height			.
				" ALT="		.	'"'				.	$altText	.	'"'	.
				">\n";
				
return $result;
}

function ImageTagC($theImageURL,$theAltText)
{
$result		=	'<IMG SRC="'. $theImageURL . '"' . " alt=" . '"' . $theAltText . '"' . '>' . "\n";

return $result;
}


// -----------------------------------------------------------------------------------------------------------------------
// function HtmlPageStart($title)
// -----------------------------------------------------------------------------------------------------------------------

function HtmlPageStart($title)
{
$result		=		'<HTML>'	. 
					"\n"		. 
					'<HEAD>'	. 
					"\n"		. 
					'<META NAME="GENERATOR" Content="www.CookseyTalbottStudio.com">'	. 
					"\n"		. 
					'<META HTTP-EQUIV="Content-Type" content="text/html; charset=iso-8859-1"'.'>'	. 
					"\n"		. 
					'<TITLE>'	. 
					$title		. 
					'</TITLE>'	. 
					"\n"		. 
					'</HEAD>'	. 
					"\n"		; 


return	$result; 
}


// -----------------------------------------------------------------------------------------------------------------------
// function HtmlPageEnd()
// -----------------------------------------------------------------------------------------------------------------------

function HtmlPageEnd()
{
$result		=	"</BODY>"	.
				"\n"		.
				"</HTML>\n"	;

return	$result; 
}


// -----------------------------------------------------------------------------------------------------------------------
// function FormOpen($theFormAction,$theFormMethod)
// -----------------------------------------------------------------------------------------------------------------------

function FormOpen($theFormAction,$theFormMethod)
{
$result	=	'<FORM ACTION="'		.
			$theFormAction			.
			'" METHOD="'			.
			$theFormMethod			.	
			'">'					.
			"\n"					;


return $result;
}

// -----------------------------------------------------------------------------------------------------------------------
// function SubmitButton()
// -----------------------------------------------------------------------------------------------------------------------

function SubmitButton($buttonID,$buttonText)
{
print '<input name="' . $buttonID . '" type="submit" id="' . $buttonID . '" value="' . $buttonText . '">';
}

// -----------------------------------------------------------------------------------------------------------------------
// function FormClose()
// -----------------------------------------------------------------------------------------------------------------------

function FormClose()
{
return "</FORM>\n";
}

// -----------------------------------------------------------------------------------------------------------------------
// function HiddenTag($theTagName, $theTagValue)
//
// Makes a hidden input type tag
//
// Returns: the complete tag
// -----------------------------------------------------------------------------------------------------------------------

function HiddenTag($theTagName, $theTagValue)
{
$result	=	'<INPUT TYPE="'	.
			'hidden"'		.
			' NAME="'		.
			$theTagName		.
			'" VALUE="'		.
			$theTagValue	.
			'">'			.
			"\n"				;

return $result;
}

// -----------------------------------------------------------------------------------------------------------------------
// function CenterOn()
// -----------------------------------------------------------------------------------------------------------------------

function CenterOn()
{
return "<CENTER>\n";
}

// -----------------------------------------------------------------------------------------------------------------------
// function CenterOff()
// -----------------------------------------------------------------------------------------------------------------------

function CenterOff()
{
return "</CENTER>\n";
}

// -----------------------------------------------------------------------------------------------------------------------
// function ParagraphOpen()
// -----------------------------------------------------------------------------------------------------------------------

function ParagraphOpen()
{
return "<P>\n";
}

// -----------------------------------------------------------------------------------------------------------------------
// function ParagraphClose()
// -----------------------------------------------------------------------------------------------------------------------

function ParagraphClose()
{
return "</P>\n";
}


// -----------------------------------------------------------------------------------------------------------------------
// EOF
// -----------------------------------------------------------------------------------------------------------------------
?>
